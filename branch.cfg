cfgs:
  default:
    branches: ['master']
    inherit:
      remedy-controller:
        base_definition:
          repo:
            source_labels:
              - name: cloud.gardener.cnudie/dso/scanning-hints/source_analysis/v1
                value:
                  policy: skip
                  comment: |
                    we use gosec for sast scanning. See attached log.
          steps:
            verify:
              image: 'golang:1.23'
        jobs:
          pull-request:
            steps:
              verify:
                image: 'golang:1.23'
          force-release:
            steps:
              verify:
                image: 'golang:1.23'
            traits:
              release:
                assets:
                - type: build-step-log
                  step_name: verify
                  purposes:
                    - lint
                    - sast
                    - gosec
                  comment: |
                    we use gosec (linter) for SAST scans
                    see: https://github.com/securego/gosec


  release-branches:
    branches: ['release-.*']
    inherit:
      remedy-controller:
        base_definition:
          steps:
            verify:
              image: 'golang:1.23'
        jobs:
          release:
            traits:
              release:
                nextversion: 'bump_patch'
